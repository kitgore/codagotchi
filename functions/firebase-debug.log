[debug] [2024-01-29T01:39:22.274Z] ----------------------------------------------------------------------
[debug] [2024-01-29T01:39:22.275Z] Command:       /opt/homebrew/Cellar/node/21.6.1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-01-29T01:39:22.276Z] CLI Version:   13.1.0
[debug] [2024-01-29T01:39:22.276Z] Platform:      darwin
[debug] [2024-01-29T01:39:22.276Z] Node Version:  v21.6.1
[debug] [2024-01-29T01:39:22.276Z] Time:          Sun Jan 28 2024 20:39:22 GMT-0500 (Eastern Standard Time)
[debug] [2024-01-29T01:39:22.276Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-01-29T01:39:22.305Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-01-29T01:39:22.305Z] > authorizing via signed-in user (alimneedstowork@gmail.com)
[debug] [2024-01-29T01:39:22.305Z] [iam] checking project codagotchi for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-01-29T01:39:22.305Z] > refreshing access token with scopes: []
[debug] [2024-01-29T01:39:22.306Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-01-29T01:39:22.306Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-01-29T01:39:22.458Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-01-29T01:39:22.459Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-01-29T01:39:22.471Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions [none]
[debug] [2024-01-29T01:39:22.472Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:22.472Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-01-29T01:39:22.851Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions 200
[debug] [2024-01-29T01:39:22.851Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-01-29T01:39:22.852Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-01-29T01:39:22.852Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-01-29T01:39:23.213Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-01-29T01:39:23.213Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'codagotchi'...
[info] 
[info] i  deploying functions 
[debug] [2024-01-29T01:39:23.219Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi [none]
[debug] [2024-01-29T01:39:23.673Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi 200
[debug] [2024-01-29T01:39:23.673Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi {"projectId":"codagotchi","projectNumber":"906441550178","displayName":"Codagotchi","name":"projects/codagotchi","resources":{"hostingSite":"codagotchi","realtimeDatabaseInstance":"codagotchi-default-rtdb"},"state":"ACTIVE","etag":"1_74027fe9-819b-4fd9-a987-fb87d7580fba"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-01-29T01:39:23.676Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [none]
[debug] [2024-01-29T01:39:23.676Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:23.678Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [none]
[debug] [2024-01-29T01:39:23.678Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:23.679Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [none]
[debug] [2024-01-29T01:39:23.679Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:23.680Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [none]
[debug] [2024-01-29T01:39:23.680Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:24.235Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com 200
[debug] [2024-01-29T01:39:24.235Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-01-29T01:39:24.236Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com 200
[debug] [2024-01-29T01:39:24.236Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-01-29T01:39:24.238Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com 200
[debug] [2024-01-29T01:39:24.238Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-01-29T01:39:24.239Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com 200
[debug] [2024-01-29T01:39:24.239Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-01-29T01:39:24.240Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig [none]
[debug] [2024-01-29T01:39:24.585Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig 200
[debug] [2024-01-29T01:39:24.586Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig {"projectId":"codagotchi","databaseURL":"https://codagotchi-default-rtdb.firebaseio.com","storageBucket":"codagotchi.appspot.com"}
[debug] [2024-01-29T01:39:24.586Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs [none]
[debug] [2024-01-29T01:39:25.300Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs 200
[debug] [2024-01-29T01:39:25.300Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs {"configs":[{"name":"projects/codagotchi/configs/github"}]}
[debug] [2024-01-29T01:39:25.301Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables [none]
[debug] [2024-01-29T01:39:25.369Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables 200
[debug] [2024-01-29T01:39:25.369Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables {"variables":[{"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z"}]}
[debug] [2024-01-29T01:39:25.370Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret [none]
[debug] [2024-01-29T01:39:25.798Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret 200
[debug] [2024-01-29T01:39:25.798Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret {"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z","text":"aacf32919ccc5a53a3c2d441f02df98ec0a926de"}
[debug] [2024-01-29T01:39:25.800Z] Validating nodejs source
[debug] [2024-01-29T01:39:26.216Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.0",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.6.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-29T01:39:26.216Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-01-29T01:39:26.216Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-29T01:39:26.219Z] Found firebase-functions binary at '/Users/alim/Documents/GitHub/codagotchi/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8914

[debug] [2024-01-29T01:39:26.475Z] Got response from /__/functions.yaml {"endpoints":{"deleteOldTokens":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"0 0 * * *","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"America/Los_Angeles"},"labels":{},"entryPoint":"deleteOldTokens"},"handleFriendRequest":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"handleFriendRequest"},"handleGitHubRedirect":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleGitHubRedirect"},"searchUsers":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"searchUsers"},"sendFriendRequest":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendFriendRequest"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/alim/Documents/GitHub/codagotchi/functions (73.88 KB) for uploading 
[debug] [2024-01-29T01:39:31.509Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions [none]
[debug] [2024-01-29T01:39:32.267Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions 200
[debug] [2024-01-29T01:39:32.267Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions {"functions":[{"name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"5965679e74b30a82779e3a2445d2550d64e47154"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/8ee11c37-1add-4043-a966-0da4dc0b5da1.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/codagotchi/locations/us-central1/functions/handleFriendRequest","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleFriendRequest","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleFriendRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2024-01-29T01:27:26.206Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"5965679e74b30a82779e3a2445d2550d64e47154"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/8ee11c37-1add-4043-a966-0da4dc0b5da1.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleFriendRequest"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleGitHubRedirect","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleGitHubRedirect","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2024-01-29T01:27:25.347Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"5965679e74b30a82779e3a2445d2550d64e47154"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/8ee11c37-1add-4043-a966-0da4dc0b5da1.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/codagotchi/locations/us-central1/functions/searchUsers","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/searchUsers","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"searchUsers","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2024-01-29T01:27:26.096Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"5965679e74b30a82779e3a2445d2550d64e47154"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/8ee11c37-1add-4043-a966-0da4dc0b5da1.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/searchUsers"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/codagotchi/locations/us-central1/functions/sendFriendRequest","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/sendFriendRequest","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"sendFriendRequest","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2024-01-29T01:27:26.400Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"5965679e74b30a82779e3a2445d2550d64e47154"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/8ee11c37-1add-4043-a966-0da4dc0b5da1.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/sendFriendRequest"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2024-01-29T01:39:32.269Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-01-29T01:39:32.719Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions 200
[debug] [2024-01-29T01:39:32.719Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2024-01-29T01:39:32.722Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com [none]
[debug] [2024-01-29T01:39:32.722Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:39:33.190Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com 200
[debug] [2024-01-29T01:39:33.191Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com [omitted]
[info] ✔  functions: required API cloudscheduler.googleapis.com is enabled 
[debug] [2024-01-29T01:39:33.194Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi [none]
[debug] [2024-01-29T01:39:33.417Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi 200
[debug] [2024-01-29T01:39:33.418Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi {"projectId":"codagotchi","projectNumber":"906441550178","displayName":"Codagotchi","name":"projects/codagotchi","resources":{"hostingSite":"codagotchi","realtimeDatabaseInstance":"codagotchi-default-rtdb"},"state":"ACTIVE","etag":"1_74027fe9-819b-4fd9-a987-fb87d7580fba"}
[debug] [2024-01-29T01:39:33.420Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-01-29T01:39:33.421Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl {}
[debug] [2024-01-29T01:39:33.848Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-01-29T01:39:33.848Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D"}
[debug] [2024-01-29T01:39:33.850Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip GoogleAccessId=service-906441550178%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D
[debug] [2024-01-29T01:39:33.850Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip [stream]
[debug] [2024-01-29T01:39:34.253Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip 200
[debug] [2024-01-29T01:39:34.253Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 20 (1st Gen) function deleteOldTokens(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function handleFriendRequest(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function handleGitHubRedirect(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function searchUsers(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function sendFriendRequest(us-central1)... 
[debug] [2024-01-29T01:39:34.259Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/deleteOldTokens updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2024-01-29T01:39:34.259Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/deleteOldTokens {"name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","entryPoint":"deleteOldTokens","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2024-01-29T01:39:34.788Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/deleteOldTokens 200
[debug] [2024-01-29T01:39:34.788Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/deleteOldTokens {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z"}}
[debug] [2024-01-29T01:39:34.789Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:34.932Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:34.932Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z"}}
[debug] [2024-01-29T01:39:35.434Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:39:35.435Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:35.546Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:35.546Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:39:36.548Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:39:36.549Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:36.678Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:36.678Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:39:38.680Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:39:38.680Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:38.799Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:38.799Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:39:42.801Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:39:42.802Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:42.907Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:42.907Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:39:50.908Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:39:50.908Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:39:51.057Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:39:51.057Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:40:01.058Z] [update-default-us-central1-deleteOldTokens] Retrying task index 0
[debug] [2024-01-29T01:40:01.059Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E [none]
[debug] [2024-01-29T01:40:01.195Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E 200
[debug] [2024-01-29T01:40:01.195Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9kZWxldGVPbGRUb2tlbnMvejIxVzhQR1JVT0E","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","updateTime":"2024-01-29T01:27:22.525Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"cb2ca830a5e26e1b3744fc81b0c05d414887fefe"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/149f4065-2b86-44c4-8c37-c1bc4eea4c54.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1706494173&Signature=f%2BKqIE3ljUJCDpdyB2y7BuX5qv8AUyB10rmAFXWsLLuOO7UA1ayxkZhnnXTI3NRg19U4hDQTXfB3B4xCnWRwK1D8cZ1J83%2BCps3S9QXiPqf9tY3s26JXscBU580dPXZuL1MAsgMmjYFwSwe%2FOcK6K2fvbWwoIhNVnkptVYX4ayqiGYnMJAcBIT243CPbEkz4ua3d0njVFQLmHjeGb8NOqDiCCXHpdcDLdiV4dfOkjk3uLx%2BD3c3EcVMC8aBdBhWG5DVxzK8i0p3%2FfPikNTs9Go9wBb6%2F8gG0nA5CwE76iSvtDmpw3tDL9kCEQoKUXf4vd7agOzYauzA22bb1Q3IR%2Fg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs20","buildId":"f47fcb9e-a493-4715-987c-715f2bf65c37","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/f47fcb9e-a493-4715-987c-715f2bf65c37","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"4","updateTime":"2024-01-29T01:39:34Z","buildId":"b1b2a05d-092a-4a1b-aa62-21ebc86db5a2","buildName":"projects/906441550178/locations/us-central1/builds/b1b2a05d-092a-4a1b-aa62-21ebc86db5a2"}}
[debug] [2024-01-29T01:40:11.554Z] ----------------------------------------------------------------------
[debug] [2024-01-29T01:40:11.555Z] Command:       /opt/homebrew/Cellar/node/21.6.1/bin/node /opt/homebrew/bin/firebase deploy --only functions
[debug] [2024-01-29T01:40:11.555Z] CLI Version:   13.1.0
[debug] [2024-01-29T01:40:11.556Z] Platform:      darwin
[debug] [2024-01-29T01:40:11.556Z] Node Version:  v21.6.1
[debug] [2024-01-29T01:40:11.556Z] Time:          Sun Jan 28 2024 20:40:11 GMT-0500 (Eastern Standard Time)
[debug] [2024-01-29T01:40:11.556Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-01-29T01:40:11.584Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-01-29T01:40:11.584Z] > authorizing via signed-in user (alimneedstowork@gmail.com)
[debug] [2024-01-29T01:40:11.584Z] [iam] checking project codagotchi for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-01-29T01:40:11.585Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions [none]
[debug] [2024-01-29T01:40:11.585Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:40:11.585Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-01-29T01:40:11.776Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions 200
[debug] [2024-01-29T01:40:11.776Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-01-29T01:40:11.776Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-01-29T01:40:11.776Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-01-29T01:40:11.977Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-01-29T01:40:11.978Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'codagotchi'...
[info] 
[info] i  deploying functions 
[debug] [2024-01-29T01:40:11.982Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi [none]
[debug] [2024-01-29T01:40:12.186Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi 200
[debug] [2024-01-29T01:40:12.186Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi {"projectId":"codagotchi","projectNumber":"906441550178","displayName":"Codagotchi","name":"projects/codagotchi","resources":{"hostingSite":"codagotchi","realtimeDatabaseInstance":"codagotchi-default-rtdb"},"state":"ACTIVE","etag":"1_74027fe9-819b-4fd9-a987-fb87d7580fba"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-01-29T01:40:12.187Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [none]
[debug] [2024-01-29T01:40:12.187Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:40:12.187Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [none]
[debug] [2024-01-29T01:40:12.187Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:40:12.188Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [none]
[debug] [2024-01-29T01:40:12.188Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:40:12.188Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [none]
[debug] [2024-01-29T01:40:12.188Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2024-01-29T01:40:12.543Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com 200
[debug] [2024-01-29T01:40:12.543Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-01-29T01:40:12.544Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com 200
[debug] [2024-01-29T01:40:12.544Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-01-29T01:40:12.559Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com 200
[debug] [2024-01-29T01:40:12.559Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-01-29T01:40:12.618Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com 200
[debug] [2024-01-29T01:40:12.618Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-01-29T01:40:12.618Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig [none]
[debug] [2024-01-29T01:40:12.937Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig 200
[debug] [2024-01-29T01:40:12.938Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig {"projectId":"codagotchi","databaseURL":"https://codagotchi-default-rtdb.firebaseio.com","storageBucket":"codagotchi.appspot.com"}
[debug] [2024-01-29T01:40:12.939Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs [none]
[debug] [2024-01-29T01:40:13.115Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs 200
[debug] [2024-01-29T01:40:13.115Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs {"configs":[{"name":"projects/codagotchi/configs/github"}]}
[debug] [2024-01-29T01:40:13.116Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables [none]
[debug] [2024-01-29T01:40:13.193Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables 200
[debug] [2024-01-29T01:40:13.193Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables {"variables":[{"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z"}]}
[debug] [2024-01-29T01:40:13.194Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret [none]
[debug] [2024-01-29T01:40:13.254Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret 200
[debug] [2024-01-29T01:40:13.254Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret {"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z","text":"aacf32919ccc5a53a3c2d441f02df98ec0a926de"}
[debug] [2024-01-29T01:40:13.257Z] Validating nodejs source
[debug] [2024-01-29T01:40:13.889Z] > [functions] package.json contents: {
  "name": "functions",
  "type": "module",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "20"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.0",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.6.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2024-01-29T01:40:13.889Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-01-29T01:40:13.890Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-01-29T01:40:13.894Z] Found firebase-functions binary at '/Users/alim/Documents/GitHub/codagotchi/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8305

[debug] [2024-01-29T01:40:14.114Z] Got response from /__/functions.yaml {"endpoints":{"deleteOldTokens":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"0 0 * * *","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":"America/Los_Angeles"},"labels":{},"entryPoint":"deleteOldTokens"},"handleFriendRequest":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"handleFriendRequest"},"handleGitHubRedirect":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleGitHubRedirect"},"searchUsers":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"searchUsers"},"sendFriendRequest":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"sendFriendRequest"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
