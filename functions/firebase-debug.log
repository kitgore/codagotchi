[debug] [2023-12-24T05:27:49.875Z] ----------------------------------------------------------------------
[debug] [2023-12-24T05:27:49.889Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\charl\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-12-24T05:27:49.889Z] CLI Version:   12.9.1
[debug] [2023-12-24T05:27:49.889Z] Platform:      win32
[debug] [2023-12-24T05:27:49.889Z] Node Version:  v20.10.0
[debug] [2023-12-24T05:27:49.889Z] Time:          Sun Dec 24 2023 00:27:49 GMT-0500 (Eastern Standard Time)
[debug] [2023-12-24T05:27:49.889Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-12-24T05:27:49.963Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-12-24T05:27:49.964Z] > authorizing via signed-in user (cbooth1@stevens.edu)
[debug] [2023-12-24T05:27:49.964Z] [iam] checking project codagotchi for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-12-24T05:27:49.967Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions [none]
[debug] [2023-12-24T05:27:49.967Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:27:49.967Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-12-24T05:27:50.244Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions 200
[debug] [2023-12-24T05:27:50.244Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/codagotchi:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-12-24T05:27:50.245Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-12-24T05:27:50.245Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-12-24T05:27:50.448Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-12-24T05:27:50.448Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/codagotchi/serviceAccounts/codagotchi@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'codagotchi'...
[info] 
[info] i  deploying functions 
[debug] [2023-12-24T05:27:50.453Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi [none]
[debug] [2023-12-24T05:27:50.742Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi 200
[debug] [2023-12-24T05:27:50.742Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi {"projectId":"codagotchi","projectNumber":"906441550178","displayName":"Codagotchi","name":"projects/codagotchi","resources":{"hostingSite":"codagotchi","realtimeDatabaseInstance":"codagotchi-default-rtdb"},"state":"ACTIVE","etag":"1_74027fe9-819b-4fd9-a987-fb87d7580fba"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-12-24T05:27:50.745Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [none]
[debug] [2023-12-24T05:27:50.745Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:27:50.746Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [none]
[debug] [2023-12-24T05:27:50.746Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:27:50.747Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [none]
[debug] [2023-12-24T05:27:50.747Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:27:50.748Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [none]
[debug] [2023-12-24T05:27:50.748Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:27:51.141Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com 200
[debug] [2023-12-24T05:27:51.141Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-12-24T05:27:51.145Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com 200
[debug] [2023-12-24T05:27:51.145Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-12-24T05:27:51.156Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com 200
[debug] [2023-12-24T05:27:51.156Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-12-24T05:27:51.160Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com 200
[debug] [2023-12-24T05:27:51.160Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-12-24T05:27:51.161Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig [none]
[debug] [2023-12-24T05:27:51.385Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig 200
[debug] [2023-12-24T05:27:51.386Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi/adminSdkConfig {"projectId":"codagotchi","databaseURL":"https://codagotchi-default-rtdb.firebaseio.com","storageBucket":"codagotchi.appspot.com"}
[debug] [2023-12-24T05:27:51.386Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs [none]
[debug] [2023-12-24T05:27:51.561Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs 200
[debug] [2023-12-24T05:27:51.561Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs {"configs":[{"name":"projects/codagotchi/configs/github"}]}
[debug] [2023-12-24T05:27:51.561Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables [none]
[debug] [2023-12-24T05:27:51.656Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables 200
[debug] [2023-12-24T05:27:51.656Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables {"variables":[{"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z"}]}
[debug] [2023-12-24T05:27:51.656Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret [none]
[debug] [2023-12-24T05:27:51.751Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret 200
[debug] [2023-12-24T05:27:51.751Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/codagotchi/configs/github/variables/client_secret {"name":"projects/codagotchi/configs/github/variables/client_secret","updateTime":"2023-10-31T21:55:10.649448089Z","text":"aacf32919ccc5a53a3c2d441f02df98ec0a926de"}
[debug] [2023-12-24T05:27:51.753Z] Validating nodejs source
[debug] [2023-12-24T05:27:53.280Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "axios": "^1.6.0",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.5.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-12-24T05:27:53.281Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2023-12-24T05:27:53.282Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-12-24T05:27:53.292Z] Found firebase-functions binary at 'C:\Users\charl\Documents\codagotchi\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8477

[debug] [2023-12-24T05:27:54.038Z] Got response from /__/functions.yaml {"endpoints":{"handleGitHubRedirect":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"handleGitHubRedirect"},"deleteOldTokens":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"scheduleTrigger":{"schedule":"every 1 minutes","retryConfig":{"retryCount":null,"maxDoublings":null,"maxRetryDuration":null,"maxBackoffDuration":null,"minBackoffDuration":null},"timeZone":null},"labels":{},"entryPoint":"deleteOldTokens"}},"specVersion":"v1alpha1","requiredAPIs":[{"api":"cloudscheduler.googleapis.com","reason":"Needed for scheduled functions."}]}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\charl\Documents\codagotchi\functions (131.19 KB) for uploading 
[debug] [2023-12-24T05:27:59.102Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions [none]
[debug] [2023-12-24T05:27:59.587Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions 200
[debug] [2023-12-24T05:27:59.587Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/-/functions {"functions":[{"name":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens","eventTrigger":{"eventType":"google.pubsub.topic.publish","resource":"projects/codagotchi/topics/firebase-schedule-deleteOldTokens-us-central1","service":"pubsub.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"deleteOldTokens","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2023-12-24T05:16:43.585Z","versionId":"3","labels":{"deployment-tool":"cli-firebase","deployment-scheduled":"true","firebase-functions-hash":"2bb9ec20eea225ed1e195fb64e033fa43433a13c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/0251d6dd-ce9c-496c-85d3-36f0db7076e5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/deleteOldTokens"},"runtime":"nodejs16","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"166a0a87-2368-4dfa-bbae-592dd434ad5c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/166a0a87-2368-4dfa-bbae-592dd434ad5c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},{"name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleGitHubRedirect","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleGitHubRedirect","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"codagotchi@appspot.gserviceaccount.com","updateTime":"2023-12-24T05:16:44.019Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"2bb9ec20eea225ed1e195fb64e033fa43433a13c"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/0251d6dd-ce9c-496c-85d3-36f0db7076e5.zip","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","FIRESTORE_PREFER_REST":"true","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"runtime":"nodejs16","ingressSettings":"ALLOW_ALL","buildId":"166a0a87-2368-4dfa-bbae-592dd434ad5c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/166a0a87-2368-4dfa-bbae-592dd434ad5c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}}]}
[debug] [2023-12-24T05:27:59.589Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-12-24T05:28:00.035Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions 200
[debug] [2023-12-24T05:28:00.035Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/codagotchi/locations/-/functions {}
[info] i  functions: ensuring required API cloudscheduler.googleapis.com is enabled... 
[debug] [2023-12-24T05:28:00.037Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com [none]
[debug] [2023-12-24T05:28:00.037Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com x-goog-quota-user=projects/codagotchi
[debug] [2023-12-24T05:28:00.398Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com 200
[debug] [2023-12-24T05:28:00.398Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/codagotchi/services/cloudscheduler.googleapis.com [omitted]
[info] +  functions: required API cloudscheduler.googleapis.com is enabled 
[debug] [2023-12-24T05:28:00.400Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi [none]
[debug] [2023-12-24T05:28:00.603Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi 200
[debug] [2023-12-24T05:28:00.603Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/codagotchi {"projectId":"codagotchi","projectNumber":"906441550178","displayName":"Codagotchi","name":"projects/codagotchi","resources":{"hostingSite":"codagotchi","realtimeDatabaseInstance":"codagotchi-default-rtdb"},"state":"ACTIVE","etag":"1_74027fe9-819b-4fd9-a987-fb87d7580fba"}
[debug] [2023-12-24T05:28:00.605Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-12-24T05:28:00.605Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-12-24T05:28:01.004Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-12-24T05:28:01.004Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D"}
[debug] [2023-12-24T05:28:01.005Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip GoogleAccessId=service-906441550178%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D
[debug] [2023-12-24T05:28:01.006Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip [stream]
[debug] [2023-12-24T05:28:01.257Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip 200
[debug] [2023-12-24T05:28:01.257Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 16 (1st Gen) function handleGitHubRedirect(us-central1)... 
[info] i  functions: updating Node.js 16 (1st Gen) function deleteOldTokens(us-central1)... 
[debug] [2023-12-24T05:28:01.262Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2023-12-24T05:28:01.262Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect {"name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D","entryPoint":"handleGitHubRedirect","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"4edb01ac196639ae97332894e17743c957c9a637"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","FIRESTORE_PREFER_REST":"true","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2023-12-24T05:28:01.857Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect 200
[debug] [2023-12-24T05:28:01.857Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleGitHubRedirect","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleGitHubRedirect","updateTime":"2023-12-24T05:16:44.019Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"4edb01ac196639ae97332894e17743c957c9a637"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","FIRESTORE_PREFER_REST":"true","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"runtime":"nodejs16","buildId":"166a0a87-2368-4dfa-bbae-592dd434ad5c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/166a0a87-2368-4dfa-bbae-592dd434ad5c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"17","updateTime":"2023-12-24T05:28:01Z"}}
[debug] [2023-12-24T05:28:01.858Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw [none]
[debug] [2023-12-24T05:28:02.000Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw 200
[debug] [2023-12-24T05:28:02.000Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleGitHubRedirect","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleGitHubRedirect","updateTime":"2023-12-24T05:16:44.019Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"4edb01ac196639ae97332894e17743c957c9a637"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","FIRESTORE_PREFER_REST":"true","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"runtime":"nodejs16","buildId":"166a0a87-2368-4dfa-bbae-592dd434ad5c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/166a0a87-2368-4dfa-bbae-592dd434ad5c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"17","updateTime":"2023-12-24T05:28:01Z"}}
[debug] [2023-12-24T05:28:02.511Z] [update-default-us-central1-handleGitHubRedirect] Retrying task index 0
[debug] [2023-12-24T05:28:02.512Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw [none]
[debug] [2023-12-24T05:28:02.701Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw 200
[debug] [2023-12-24T05:28:02.702Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw {"name":"operations/Y29kYWdvdGNoaS91cy1jZW50cmFsMS9oYW5kbGVHaXRIdWJSZWRpcmVjdC9qODFOMEFrN0Y3dw","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect","httpsTrigger":{"url":"https://us-central1-codagotchi.cloudfunctions.net/handleGitHubRedirect","securityLevel":"SECURE_ALWAYS"},"status":"ACTIVE","entryPoint":"handleGitHubRedirect","updateTime":"2023-12-24T05:16:44.019Z","versionId":"16","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"4edb01ac196639ae97332894e17743c957c9a637"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-747597282617.us-central1.cloudfunctions.appspot.com/28b02de8-5947-4801-9b21-c18e0bdafd66.zip?GoogleAccessId=service-906441550178@gcf-admin-robot.iam.gserviceaccount.com&Expires=1703397480&Signature=Rl5a%2FoDHbp%2BXfocgiqttRWOJUqKvrsa4wZw7UAEb3%2FCtm0dkKhdOh6BttGGvNHIIaL660b9OqC4JAqLVgIaneQ8MYDFQ5Ze3t2%2FSlNnGL8%2FYQdzVlPdN24yw4Vivd3SyVmPoedaYPyP1Zchob6Le8y1mN6BC51k5HgSsW6OTwhpwizAbp2UWh7U%2FR3JG%2BZDQB7%2FFRS%2BDuBlnyjLQ3PCnOYKP08UU9UDz6Wh5i1aGVDzQhXPE%2Ft%2BATfBuQcNuIve5UNCBSRwA5wba4q3y08IXnyTvfbIsuc3Dh9afr1FcOB9bsTs%2FJOe%2BQbV0BAib0l36XDEyi2DM7AVADJwk4THfRA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"codagotchi\",\"databaseURL\":\"https://codagotchi-default-rtdb.firebaseio.com\",\"storageBucket\":\"codagotchi.appspot.com\"}","GCLOUD_PROJECT":"codagotchi","FIRESTORE_PREFER_REST":"true","EVENTARC_CLOUD_EVENT_SOURCE":"projects/codagotchi/locations/us-central1/functions/handleGitHubRedirect"},"runtime":"nodejs16","buildId":"166a0a87-2368-4dfa-bbae-592dd434ad5c","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/906441550178/locations/us-central1/builds/166a0a87-2368-4dfa-bbae-592dd434ad5c","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{}},"versionId":"17","updateTime":"2023-12-24T05:28:02Z","buildId":"0cd50e69-b808-489c-b28b-c2ee56466e7d","buildName":"projects/906441550178/locations/us-central1/builds/0cd50e69-b808-489c-b28b-c2ee56466e7d"}}
